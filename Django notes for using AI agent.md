# 使用 AI Agent 進行 Django 開發時的注意事項

## 項目規劃階段
1. **系統架構設計**：先以 UML 規劃好整個系統架構，再進行開發。
2. **需求確認**：明確定義功能需求、資料模型、使用者流程等。

## 技術環境設定
3. **資料庫配置**：告訴 AI agent 使用 PostgreSQL 資料庫，並先在 `settings.py` 中配置好連線字串。
4. **框架選擇**：告訴 AI agent 需要使用 Django 框架來開發。
5. **虛擬環境**：告訴 AI agent virtual environment 已經建立好了，是用 virtualenvwrapper 建立的，該 environment 的名稱是 `(環境名稱)`。

## 專案結構設定
6. **靜態文件**：告訴 AI agent，CSS、JS 等靜態文件放在 `static/` 目錄下，模板放在 `templates/` 目錄下。
7. **應用結構**：說明專案使用的 Django app 結構和命名慣例。
8. **URL 配置**：明確 URL 路由的組織方式（是否使用 namespace、include 等）。

## 開發規範
9. **程式碼風格**：指定使用的程式碼風格（如 PEP 8）和命名慣例。
10. **模型設計**：說明資料庫模型的設計原則和關聯關係。
11. **視圖架構**：說明使用 Function-based Views 或 Class-based Views。
12. **表單處理**：明確表單驗證和處理的方式。

## 安全性考量
13. **認證授權**：說明使用的使用者認證系統和權限控制。
14. **CSRF 防護**：確保所有表單都有 CSRF token。
15. **敏感資訊**：使用環境變數管理敏感資訊（如 SECRET_KEY、資料庫密碼）。

## 測試與部署
16. **測試策略**：說明需要撰寫的測試類型（單元測試、整合測試）。
17. **遷移管理**：明確資料庫遷移的處理方式。
18. **靜態文件收集**：說明生產環境的靜態文件配置。

## 效能優化
19. **查詢優化**：使用 `select_related()` 和 `prefetch_related()` 優化資料庫查詢。
20. **快取策略**：說明是否需要實作快取機制。

## 文件與維護
21. **程式碼註解**：要求 AI agent 提供充分的程式碼註解和文件。
22. **錯誤處理**：實作適當的錯誤處理和使用者友善的錯誤頁面。
23. **日誌記錄**：設定適當的日誌記錄機制。

## 範例指令模板
```
我需要開發一個 Django 專案，請注意以下設定：
- 框架：Django
- 資料庫：PostgreSQL（已在 settings.py 配置）
- 虛擬環境：virtualenvwrapper，環境名稱為 [環境名稱]
- 靜態文件：static/ 目錄
- 模板：templates/ 目錄
- 系統架構：[附上 UML 圖或詳細說明]
- 功能需求：[詳細說明功能]
```